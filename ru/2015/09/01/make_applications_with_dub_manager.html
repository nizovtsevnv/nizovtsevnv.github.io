<!DOCTYPE html> <html> <head> <meta charset=UTF-8> <meta content='text/html; charset=UTF-8' http-equiv=content-type> <meta content='IE=edge' http-equiv=X-UA-Compatible> <meta content='width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no' name=viewport> <link rel=alternate type="application/atom+xml" title="Подписка на RSS" href="/ru/feed.xml"/> <title>Создание приложения на языке D с помощью DUB</title> <link href='apple-touch-icon-152x152-precomposed.png' rel=apple-touch-icon sizes=152x152> <link href='apple-touch-icon-144x144-precomposed.png' rel=apple-touch-icon sizes=144x144> <link href='apple-touch-icon-114x114-precomposed.png' rel=apple-touch-icon sizes=114x114> <link href='apple-touch-icon-72x72-precomposed.png' rel=apple-touch-icon sizes=72x72> <link href='apple-touch-icon-precomposed.png' rel=apple-touch-icon> <link href='favicon.png' rel='shortcut icon'> <link href='favicon.ico' rel=icon type='image/ico'> <link href="../../../../stylesheets/application.css" rel=stylesheet /> <script src="../../../../javascripts/jquery.js"></script><script src="../../../../javascripts/application.js"></script> <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-7867765-20', 'auto');
      ga('send', 'pageview');
    </script> </head> <body class='ru ru_2015 ru_2015_09 ru_2015_09_01 ru_2015_09_01_make_applications_with_dub_manager'> <div id=page-header> <nav class=navbar> <a class='navbar-brand hidden-xs-down' href='/ru'>Николай Низовцев</a> <ul class='nav navbar-nav pull-xs-right'> <li class=nav-item> <a class=nav-link href='/'>EN</a> </li> <li class=nav-item> <a class='active nav-link' href='/ru'>RU</a> </li> </ul> </nav> </div> <div class=container-fluid> <div class=row id=page-tags> <div class='col-xl-8 offset-xl-2 col-lg-10 offset-lg-1 col-md-12 col-sm-12 col-xs-12'> <span class='tag tag-default'> <i aria-hidden=true class='fa fa-tag'></i> <a href='/ru/tags/новости'>новости</a> </span> <span class='tag tag-default'> <i aria-hidden=true class='fa fa-tag'></i> <a href='/ru/tags/аналитика'>аналитика</a> </span> <span class='tag tag-default'> <i aria-hidden=true class='fa fa-tag'></i> <a href='/ru/tags/общество'>общество</a> </span> <span class='tag tag-default'> <i aria-hidden=true class='fa fa-tag'></i> <a href='/ru/tags/dlang'>dlang</a> </span> </div> </div> <div class=row id=page-main> <div class='col-xl-8 offset-xl-2 col-lg-10 offset-lg-1 col-md-12 col-sm-12 col-xs-12'> <div class=article> <h2>Создание приложения на языке D с помощью DUB</h2> <p class=meta> Sep 1 2015 <span class='tag tag-default'> <i aria-hidden=true class='fa fa-tag'></i> <a href='/en/tags/dlang'>dlang</a> </span> </p> <div class=content> <p> В этой статье я расскажу зачем и как нужно использовать менеджер пакетов DUB при разработке приложений на языке D. </p> <p> В целом на сегодня для сборки разрабатываемых приложений на языке D мы имеем три основных инструмента: <ul> <li> <strong>DMD / GDC / LDC</strong> - для непосредственной сборки компиляторами (DMD - рекомендуется для разработки как самый быстрый в компиляции, GDC/LDC - рекомендуется для оптимизации сборки при релизе); </li> <li> <strong>DUB</strong> - для сборки приложений с солидными внешними зависимостями, менеджер модулей и по совместительству помощник по сборке (для примера близкая аналогия из мира Ruby, dub = gem + bundle); </li> <li> <strong>RDMD</strong> - для использования модулей D в качестве shell-скриптов, собирает скрипт в первый запуск на лету и далее использует кэш (любой скрипт превращается в shell-скрипт добавлением в первой строке файла shebang вида "#!/usr/bin/env rdmd"). </li> </ul> </p> <h3>Подготовительный этап</h3> <ol> <li> Установите компилятор с языка D. Для этого пройдите по ссылке на <a href='http://dlang.org/download.html' target=blank>официальный сайт</a> , выберите необходимый вариант, скачайте и установите его. На текущий момент доступны компиляторы серии DMD для следующих ОС: Debian/Ubuntu, Fedora/CentOS, FreeBSD, OpenSuse, OS X, Windows. </li> <li> Установите менеджер пакетов DUB. Для установки перейдите по ссылке на <a href='http://code.dlang.org/download' target=blank>официальный сайт</a> , выберите необходимый вариант, скачайте и установите его. На текущий момент DUB доступен как в виде исходных текстов так и в сборке для ОС: Linux, OS X, Windows. </li> </ol> <h3>Создание и настройка сборки приложения</h3> <ol> <li>Откройте терминал и перейдите в папку ваших проектов.</li> <li> Инициализируйте приложение с помощью команды <pre class="highlight shell"><code>dub init my_project&#x000A;</code></pre> </li> <li>Перейдите в каталог вашего проекта, в нём вы увидите свежесозданные манифест-файл "dub.json", каталог для исходных текстов "source" содержащий базовый файл исходных текстов "app.d";</li> <li> Заполните все поля файла dub.json и по необходимости дополните своими настройками. Материалы по формату представления данных JSON вы можете найти <a href='http://json.org/json-ru.html' target=blank>здесь</a> , а информацию по всевозможным настройкам манифест-файла <a href='http://code.dlang.org/package-format?lang=json' target=blank>здесь</a> . Например, вы можете изменить имя базового файла исходных текстов с "app.d" на "application.d", каталог для файлов собранного ПО с текущего на подкаталог "build", а название для результирующего исполняемого файла проекта указать "my_project", для этого в "dub.json" понадобится добавить следующие строки: <pre class="highlight json"><code><span class="p">{</span><span class="err">...</span><span class="w">&#x000A;  </span><span class="s2">"configurations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">&#x000A;    </span><span class="p">{</span><span class="err">...</span><span class="w">&#x000A;      </span><span class="s2">"mainSourceFile"</span><span class="p">:</span><span class="w"> </span><span class="s2">"source/application.d"</span><span class="p">,</span><span class="w">&#x000A;      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"my_project"</span><span class="p">,</span><span class="w">&#x000A;      </span><span class="s2">"targetPath"</span><span class="p">:</span><span class="w"> </span><span class="s2">"build"</span><span class="p">,</span><span class="w">&#x000A;      </span><span class="s2">"workingDirectory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"build"</span><span class="w">&#x000A;    </span><span class="err">...</span><span class="p">},</span><span class="w">&#x000A;</span><span class="err">...</span><span class="p">}</span><span class="w">&#x000A;</span></code></pre> </li> <li>Создайте необходимые исходные тексты и медиа-файлы в каталоге source;</li> <li> Для сборки и запуска отладочного варианта приложения выполните консольную команду из каталога проекта: <pre class="highlight plaintext"><code>dub run&#x000A;&#x000A;</code></pre> Для запуска встроенных юнит-тестов выполните: <pre class="highlight plaintext"><code>dub test&#x000A;&#x000A;</code></pre> Для сборки отладочного варианта приложения выполните: <pre class="highlight plaintext"><code>dub build&#x000A;&#x000A;</code></pre> Для сборки релиза приложения выполните: <pre class="highlight plaintext"><code>dub build --build=release&#x000A;&#x000A;</code></pre> </li> <p>Если вашей целью является создание бесплатного общедоступного приложения или библиотеки, то с помощью DUB вы также можете поделиться вашим проектом через единый репозиторий пакетов.</p> <p>На этом краткий экскурс в необходимый минимум для создания приложения завершён, желаю вам великих достижений и приятного изучения.</p> </ol> </div> </div> </div> </div> </div> </body> </html> <div id=page-footer> <div class=container-fluid> <div class=row> <div class='col-xl-6 offset-xl-3 col-lg-6 offset-lg-3 col-md-12 center'> <a class=img href='https://www.linkedin.com/in/nizovtsevnv' target=blank> <img src='../../../../images/socials/linkedin.png'> </a> <a class=img href='https://www.facebook.com/nick.nizovtsev' target=blank> <img src='../../../../images/socials/facebook.png'> </a> <a class=img href='https://twitter.com/nizovtsevnv' target=blank> <img src='../../../../images/socials/twitter.png'> </a> <a class=img href='https://vk.com/nizovtsevnv' target=blank> <img src='../../../../images/socials/vk.png'> </a> <a class=img href='https://www.instagram.com/nizovtsevnv/' target=blank> <img src='../../../../images/socials/instagram.png'> </a> </div> <div class='col-xl-3 col-md-12 right'> <p class=rss-subscribe> Подписка на <a href='/ru/feed.xml'>RSS</a> </p> </div> </div> </div> </div>